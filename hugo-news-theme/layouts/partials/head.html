<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
<title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} | {{ .Site.Title }}{{ end }}</title>

{{/* --- SEO META TAGS --- */}}
<meta name="description" content="{{ .Params.Description | default .Site.Params.description }}" />
<meta name="keywords" content="{{ .Params.Keywords | default .Site.Params.keywords }}" />
<link rel="canonical" href="{{ .Permalink }}" />

{{/* --- OPEN GRAPH --- */}}
<meta property="og:title" content="{{ .Title | default .Site.Title }}" />
<meta property="og:description" content="{{ .Params.Description | default .Site.Params.description }}" />
<meta property="og:type" content="{{ if .IsHome }}website{{ else }}article{{ end }}" />
<meta property="og:url" content="{{ .Permalink }}" />
<meta property="og:site_name" content="{{ .Site.Title }}" />
{{ with .Params.image }}<meta property="og:image" content="{{ . | absURL }}" />{{ end }}

{{/* --- TWITTER CARDS --- */}}
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="{{ .Title | default .Site.Title }}" />
<meta name="twitter:description" content="{{ .Params.Description | default .Site.Params.description }}" />
{{ with .Params.image }}<meta name="twitter:image" content="{{ . | absURL }}" />{{ end }}

<link rel="icon" type="image/png" href="/favicon.png" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>

{{/* --- DYNAMIC FONTS --- */}}
<link href="{{ site.Params.fonts.google_fonts_url }}" rel="stylesheet">

{{/* --- DYNAMIC THEMING --- */}}
<style>
  :root {
    {{ with site.Params.colors }}
    --primary: {{ .primary }};
    --secondary: {{ .secondary }};
    --background: {{ .background }};
    --foreground: {{ .foreground }};
    {{ end }}
    {{ with site.Params.fonts }}
    --font-sans: {{ .heading_font | safeHTML }};
    --font-serif: {{ .body_font | safeHTML }};
    {{ end }}
  }
</style>

{{ $style := resources.Get "css/main.css" | css.PostCSS }}
<link rel="stylesheet" href="{{ $style.RelPermalink }}">

{{/* --- SCHEMA.ORG JSON-LD --- */}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{{ if .IsHome }}WebSite{{ else }}NewsArticle{{ end }}",
  "headline": "{{ .Title }}",
  "description": "{{ .Params.Description | default .Site.Params.description }}",
  "url": "{{ .Permalink }}",
  "author": {
    "@type": "Person",
    "name": "{{ .Params.author | default .Site.Params.author }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ .Site.Title }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ "favicon.png" | absURL }}"
    }
  },
  "datePublished": "{{ .Date.Format "2006-01-02" }}"
}
</script>
